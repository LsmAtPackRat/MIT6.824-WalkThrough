2018/05/02 14:45:22 -------------TestBasicAgree2B-------------------
2018/05/02 14:45:22 peer-0 leader's heartbeat long-running goroutine. block.
2018/05/02 14:45:22 peer-1 leader's heartbeat long-running goroutine. block.
2018/05/02 14:45:22 peer-1 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-2 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-3 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-4 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-0 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-3 leader's heartbeat long-running goroutine. block.
2018/05/02 14:45:22 peer-4 leader's heartbeat long-running goroutine. block.
2018/05/02 14:45:22 peer-2 leader's heartbeat long-running goroutine. block.
2018/05/02 14:45:22 peer-1 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-2 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-3 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-4 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-0 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-1 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-2 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-3 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-4 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-0 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-1 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-2 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-3 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-4 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-0 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-1 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-2 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-3 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-4 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-0 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-1 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-2 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-3 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-4 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-0 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-1 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-2 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-3 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-4 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-0 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-1 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-2 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-3 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-4 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-0 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-1 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-2 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-3 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-4 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-0 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-1 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-2 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-3 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-4 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-0 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-1 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-2 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-3 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-4 ----------------------Start()-----------------------
2018/05/02 14:45:22 peer-0 ----------------------Start()-----------------------
2018/05/02 14:45:23 peer-1 ----------------------Start()-----------------------
2018/05/02 14:45:23 peer-2 ----------------------Start()-----------------------
2018/05/02 14:45:23 peer-3 ----------------------Start()-----------------------
2018/05/02 14:45:23 peer-4 ----------------------Start()-----------------------
2018/05/02 14:45:23 peer-0 ----------------------Start()-----------------------
2018/05/02 14:45:23 peer-1 ----------------------Start()-----------------------
2018/05/02 14:45:23 peer-2 ----------------------Start()-----------------------
2018/05/02 14:45:23 peer-3 ----------------------Start()-----------------------
2018/05/02 14:45:23 peer-4 ----------------------Start()-----------------------
2018/05/02 14:45:23 peer-0 ----------------------Start()-----------------------
2018/05/02 14:45:23 peer-4 election timeout!
2018/05/02 14:45:23 peer-4 kicks off an election!
2018/05/02 14:45:23 peer-4 becomes a Candidate!!!
2018/05/02 14:45:23 peer-4 send a sendRequestVote RPC to peer-3
2018/05/02 14:45:23 peer-3 gets a RequestVote RPC.
2018/05/02 14:45:23 peer-4 gets a vote!
2018/05/02 14:45:23 peer-4 send a sendRequestVote RPC to peer-0
2018/05/02 14:45:23 peer-0 gets a RequestVote RPC.
2018/05/02 14:45:23 peer-4 gets a vote!
2018/05/02 14:45:23 peer-4 becomes the new leader!!!
2018/05/02 14:45:23 peer-4 Leader's log array's length = 0.
2018/05/02 14:45:23 peer-4 leader's heartbeat long-running goroutine. get up.
2018/05/02 14:45:23 peer-4 broadcast heartbeats.
2018/05/02 14:45:23 peer-3 gets an heartbeat.
2018/05/02 14:45:23 peer-3 log[]'s length is 0.
2018/05/02 14:45:23 peer-3 AppendEntries RPC pass the consistent check at PrevLogIndex = 0!
2018/05/02 14:45:23 peer-4 send a sendRequestVote RPC to peer-1
2018/05/02 14:45:23 peer-1 gets a RequestVote RPC.
2018/05/02 14:45:23 peer-4 send a sendRequestVote RPC to peer-2
2018/05/02 14:45:23 peer-2 gets a RequestVote RPC.
2018/05/02 14:45:23 peer-0 gets an heartbeat.
2018/05/02 14:45:23 peer-0 log[]'s length is 0.
2018/05/02 14:45:23 peer-0 AppendEntries RPC pass the consistent check at PrevLogIndex = 0!
2018/05/02 14:45:23 peer-1 gets an heartbeat.
2018/05/02 14:45:23 peer-1 log[]'s length is 0.
2018/05/02 14:45:23 peer-1 AppendEntries RPC pass the consistent check at PrevLogIndex = 0!
2018/05/02 14:45:23 peer-2 gets an heartbeat.
2018/05/02 14:45:23 peer-2 log[]'s length is 0.
2018/05/02 14:45:23 peer-2 AppendEntries RPC pass the consistent check at PrevLogIndex = 0!
2018/05/02 14:45:23 peer-0 election timeout!
2018/05/02 14:45:23 peer-0 kicks off an election!
2018/05/02 14:45:23 peer-0 becomes a Candidate!!!
2018/05/02 14:45:23 peer-4 non-leader's election timeout long-running goroutine. block.
2018/05/02 14:45:23 peer-0 send a sendRequestVote RPC to peer-4
2018/05/02 14:45:23 peer-1 ----------------------Start()-----------------------
2018/05/02 14:45:23 peer-2 ----------------------Start()-----------------------
2018/05/02 14:45:23 peer-3 ----------------------Start()-----------------------
2018/05/02 14:45:23 peer-4 ----------------------Start()-----------------------
2018/05/02 14:45:23 peer-4 gets a RequestVote RPC.
2018/05/02 14:45:23 peer-0 send a sendRequestVote RPC to peer-1
2018/05/02 14:45:23 peer-1 gets a RequestVote RPC.
2018/05/02 14:45:23 peer-3 gets an AppendEntries RPC(args.PrevLogIndex = 0, args.LeaderCommit = 0).
2018/05/02 14:45:23 peer-3 log[]'s length is 0.
2018/05/02 14:45:23 peer-3 AppendEntries RPC pass the consistent check at PrevLogIndex = 0!
2018/05/02 14:45:23 peer-0 gets a vote!
2018/05/02 14:45:23 peer-0 send a sendRequestVote RPC to peer-2
2018/05/02 14:45:23 peer-4 AppendEntries success!
2018/05/02 14:45:23 peer-2 gets a RequestVote RPC.
2018/05/02 14:45:23 peer-0 gets an AppendEntries RPC(args.PrevLogIndex = 0, args.LeaderCommit = 0).
2018/05/02 14:45:23 peer-0 log[]'s length is 0.
2018/05/02 14:45:23 peer-0 calm down to a Follower from a Candidate!!!
2018/05/02 14:45:23 peer-0 AppendEntries RPC pass the consistent check at PrevLogIndex = 0!
2018/05/02 14:45:23 peer-0 send a sendRequestVote RPC to peer-3
2018/05/02 14:45:23 peer-4 AppendEntries success!
2018/05/02 14:45:23 peer-4 Leader moves its commitIndex from 0 to 1.
2018/05/02 14:45:23 peer-3 gets a RequestVote RPC.
2018/05/02 14:45:23 peer-1 gets an AppendEntries RPC(args.PrevLogIndex = 0, args.LeaderCommit = 1).
2018/05/02 14:45:23 peer-1 log[]'s length is 0.
2018/05/02 14:45:23 peer-1 AppendEntries RPC pass the consistent check at PrevLogIndex = 0!
2018/05/02 14:45:23 peer-1 (not the leader) apply the command() at index 1!!!!!!!!
panic: runtime error: index out of range

goroutine 90 [running]:
_/home/lsm/mit6.824_map/6.824/src/raft.(*Raft).AppendEntries(0xc4200d6200, 0xc42010d300, 0xc420106af0)
	/home/lsm/mit6.824_map/6.824/src/raft/raft.go:370 +0x1034
reflect.Value.call(0xc4200921e0, 0xc4200845b8, 0x13, 0x5d0d7f, 0x4, 0xc42011fb40, 0x3, 0x3, 0x583da0, 0x0, ...)
	/usr/local/go/src/reflect/value.go:434 +0x906
reflect.Value.Call(0xc4200921e0, 0xc4200845b8, 0x13, 0xc42011fb40, 0x3, 0x3, 0x0, 0x0, 0x0)
	/usr/local/go/src/reflect/value.go:302 +0xa4
labrpc.(*Service).dispatch(0xc420095c00, 0x5d3587, 0xd, 0x58f3e0, 0xc420075860, 0x5d3582, 0x12, 0x6b1a00, 0x583d60, 0xc420178240, ...)
	/home/lsm/6.824/src/labrpc/labrpc.go:478 +0x856
labrpc.(*Server).dispatch(0xc420088b60, 0x58f3e0, 0xc420075860, 0x5d3582, 0x12, 0x6b1a00, 0x583d60, 0xc420178240, 0xd9, 0x109, ...)
	/home/lsm/6.824/src/labrpc/labrpc.go:402 +0x507
labrpc.(*Network).ProcessReq.func1(0xc420088b60, 0x58f3e0, 0xc420075860, 0x5d3582, 0x12, 0x6b1a00, 0x583d60, 0xc420178240, 0xd9, 0x109, ...)
	/home/lsm/6.824/src/labrpc/labrpc.go:229 +0x60
created by labrpc.(*Network).ProcessReq
	/home/lsm/6.824/src/labrpc/labrpc.go:228 +0x133
